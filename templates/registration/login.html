{% if form.errors %}
  <p>You have entered an incorrect username or password.</p>
{% endif %}

{% if next %}
  {% if not user.is_authenticated %}
    <p>To view that page, login first</p>
  {% else %}
    <p>Please login</p>
  {% endif %}
{% endif %}

<form action="{% url 'login' %}" method="POST">
  {% csrf_token %}
  {{ form.as_p }}
  <input type="hidden" name="next" value="{{ next }}">
  <button type="submit" value="Login">Login</button>
</form>